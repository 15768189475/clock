/*********************************************************************************************************************
// @company     鸿威技术
// @group       BMS
// @project
// @MCU         apm32f030C8
// @file        g_pwm
// @author      xieyongqiang(1365168884@qq.com)
// @date        2021-11-22
// @version     V1.0	初始创建
*********************************************************************************************************************/

#ifndef _g_pwm_h
#define _g_pwm_h
#include "common.h"
typedef enum
{
	//10000*AFn+1000*TMRn+100*CHn+PINn
	TMR1_CH1_A8 = 10000 * 2 + 1000 * 1 + 100 * 1 + 8,
	TMR1_CH2_A9 = 10000 * 2 + 1000 * 1 + 100 * 2 + 9,
	TMR1_CH3_A10 = 10000 * 2 + 1000 * 1 + 100 * 3 + 10,
	TMR1_CH4_A11 = 10000 * 2 + 1000 * 1 + 100 * 4 + 11,

	TMR3_CH1_A6 = 10000 * 1 + 1000 * 2 + 100 * 1 + 6,
	TMR3_CH1_B4 = 10000 * 1 + 1000 * 2 + 100 * 1 + 36,
	TMR3_CH1_C6 = 10000 * 0 + 1000 * 2 + 100 * 1 + 70,
	TMR3_CH2_A7 = 10000 * 1 + 1000 * 2 + 100 * 2 + 7,
	TMR3_CH2_B5 = 10000 * 1 + 1000 * 2 + 100 * 2 + 37,
	TMR3_CH2_C7 = 10000 * 0 + 1000 * 2 + 100 * 2 + 71,
	TMR3_CH3_B0 = 10000 * 1 + 1000 * 2 + 100 * 3 + 32,
	TMR3_CH3_C8 = 10000 * 0 + 1000 * 2 + 100 * 3 + 72,
	TMR3_CH4_B1 = 10000 * 1 + 1000 * 2 + 100 * 4 + 33,
	TMR3_CH4_C9 = 10000 * 0 + 1000 * 2 + 100 * 4 + 73,

	TMR14_CH1_A4 = 10000 * 4 + 1000 * 3 + 100 * 1 + 4,
	TMR14_CH1_A7 = 10000 * 4 + 1000 * 3 + 100 * 1 + 7,
	TMR14_CH1_B1 = 10000 * 0 + 1000 * 3 + 100 * 1 + 33,

	TMR15_CH1_A2 = 10000 * 0 + 1000 * 4 + 100 * 1 + 2,
	TMR15_CH1_B14 = 10000 * 1 + 1000 * 4 + 100 * 1 + 46,
	TMR15_CH2_A3 = 10000 * 0 + 1000 * 4 + 100 * 2 + 3,
	TMR15_CH2_B15 = 10000 * 1 + 1000 * 4 + 100 * 2 + 47,

	TMR16_CH1_A6 = 10000 * 5 + 1000 * 5 + 100 * 1 + 6,
	TMR16_CH1_B8 = 10000 * 2 + 1000 * 5 + 100 * 1 + 40,

	TMR17_CH1_A7 = 10000 * 5 + 1000 * 6 + 100 * 1 + 7,
	TMR17_CH1_B9 = 10000 * 2 + 1000 * 6 + 100 * 1 + 41,

    PWM_NOT

} ENUM_PWNCH;

//-------------------------------------------------------------------------------------------------------------------
//  @brief			PWM初始化
//  @param			ch			PWM通道
//  @param			freq
//  @param			duty
//  @return			void
//  @note
//  Sample usage:			InitPwm(TMR1_CH1_A8,1000,50);
//-------------------------------------------------------------------------------------------------------------------
void InitPwm(ENUM_PWNCH ch, uint32 freq, uint8 duty);

//-------------------------------------------------------------------------------------------------------------------
//  @brief			设置PWM频率
//  @param			ch			PWM通道
//  @param			freq		频率
//  @return			void
//  @note			同一定时器同一频率
//  Sample usage:			SetPwmFreq(TMR1_CH1_A8,1000);
//-------------------------------------------------------------------------------------------------------------------
void SetPwmFreq(ENUM_PWNCH ch, uint32 freq);

//-------------------------------------------------------------------------------------------------------------------
//  @brief			设置PWM占空比
//  @param			ch			PWM通道
//  @param			duty		占空比
//  @return			void
//  @note
//  Sample usage:			SetPwmDuty(TMR1_CH1_A8,10);
//-------------------------------------------------------------------------------------------------------------------
void SetPwmDuty(ENUM_PWNCH ch, uint8 duty);

#endif
